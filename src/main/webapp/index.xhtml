<html xmlns="http://www.w3.org/1999/xhtml" 
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core">
	<h:head>
		<title>Tarefas</title>
	</h:head>

	<h:body>
	<h:form>
	<h:commandLink action="#{tarefasMBean.exibirFormulario}" value="Cadastrar tarefa"/> <br/>
		
			<h:messages/>
			<h1>Lista de tarefas</h1>
			<h:dataTable value="#{tarefasMBean.listaTarefas}" var="tarefa" border="1">
				<h:column>
					<f:facet name="header">ID</f:facet>
					#{tarefa.id}
				</h:column>
				<h:column>
					<f:facet name="header">Título</f:facet>
					#{tarefa.titulo}
				</h:column>
				<h:column>
					<f:facet name="header">Descrição</f:facet>
					#{tarefa.descricao}
				</h:column>
				<h:column>
					<f:facet name="header">Responsável</f:facet>
					#{tarefa.responsavel.nome}
				</h:column>
				
				<h:column>
					<f:facet name="header">Deadline</f:facet>
					#{tarefa.deadline}
				</h:column>
				<h:column>
					<f:facet name="header">Prioridade</f:facet>
					#{tarefa.prioridade}
				</h:column>
				<h:column>
					<f:facet name="header">Situação</f:facet>
					#{tarefa.situacaoString}
				</h:column>
				<h:column>
					
					<h:commandButton value="Excluir" action="#{tarefasMBean.excluir(tarefa)}" />
					<h:commandButton value="Editar" action="#{tarefasMBean.alterar(tarefa)}" />
					<h:commandButton value="Concluir" action="#{tarefasMBean.concluir(tarefa)}" />
		
				</h:column>
			</h:dataTable>
			
		</h:form>
	</h:body>
</html>